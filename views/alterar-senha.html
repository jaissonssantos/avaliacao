<!-- Password reset Content -->
<div class="login" ng-init="getCheckLoginActive(); checkToken();">
    <div class="transparencia"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
            
                <div class="account-wall">
                    <section class="align-lg-center">
                        <a href="/entrar">
                            <div class="site-logo"></div>
                        </a>
                    </section>

                    <form name="$root.formAlterarSenha" 
                        role="form" class="form-signin" novalidate>

                        <section ng-if="results.checktoken.loading"
                            class="bg-white p-10 p-b-5">
                            <p class="text-center color-grey">
                                <img src="assets/img/loading.gif"> Processando, aguarde...
                            </p>
                        </section> 

                        <section>
                            <div class="alert alert-warning" 
                                ng-if="error"
                                ng-bind="error">
                            </div>
                            <div class="alert alert-success"
                                ng-show="success"
                                ng-bind="success">
                            </div>
                        </section>

                        <section>
                           <p ng-if="!error && !success && !results.checktoken.loading">Para tornar sua senha mais segura, use letras maiúsculas e minúsculas, números e caracteres especiais, como @, % e !.</p>
                            <span class="help-block text-center" 
                                ng-show="formAlterarSenha.senha.$dirty && formAlterarSenha.senha.$error.required">O campo senha é obrigatório</span>
                            <span class="help-block text-center" 
                                ng-show="formAlterarSenha.confirmarsenha.$dirty && formAlterarSenha.confirmarsenha.$error.required">O campo confirmar senha é obrigatório</span>
                        </section>
                        <section ng-if="!error && !success && !results.checktoken.loading">
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-key"></i>
                                </div>
                                <input type="password" 
                                    name="senha" 
                                    ng-model="cliente.senha" 
                                    class="form-control" 
                                    placeholder="Senha"
                                    minlength="6" 
                                    required>
                            </div>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-key"></i>
                                </div>
                                <input type="password" 
                                    name="confirmarsenha" 
                                    ng-model="cliente.confirmarsenha" 
                                    class="form-control" 
                                    placeholder="Confirmar senha" 
                                    minlength="6"
                                    required>
                            </div>
                            <br />
                            <button 
                                id="enviar"
                                class="btn btn-lg btn-mark btn-block" 
                                type="submit" 
                                ng-disabled="results.loading || formAlterarSenha.$invalid || cliente.senha != cliente.confirmarsenha" 
                                ng-click="update()"
                                ng-switch="results.loading">
                                    <span ng-switch-default>DEFINIR SENHA</span>
                                    <span ng-switch-when="true">AGUARDE...</span>
                            </button>
                        </section>
                    </form>
                    <a href="/empresa" class="footer-link">&copy; 2016 Kambô Tecnologia &trade; </a>
                </div>  
                <!-- //account-wall-->
                    
            </div>
            <!-- //col-sm-6 col-md-4 col-md-offset-4-->
        </div>
        <!-- //row-->
    </div>
    <!-- //container-->
</div>
<!-- END Password Reset Content -->